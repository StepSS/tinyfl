# tinyfl
Это DIY Attiny13 на базе PWM-драйвера для фонариков с яркими светодиодами, такими как Cree XM-L, XP-G и другие.

Возможности и преимущества:

    Вкл / выкл с одной кнопкой нажмите (кнопка TACT STACK).
    Рабочее напряжение: 2,3 В - 5,5 В, максимальный ток 4А (с помощью Si2323 MoSfet).
    Чрезвычайно низкое энергопотребление в режиме лунного света: только 5 мА с XM-L светодиодным. С помощью Standart 18650 ячейки он будет сиять более 20 дней.
    Бесступенчатая регулировка яркости с гамма-коррекцией, от лунного света до турбо. Уровень яркости запоминается до завершения отключения и сохраняется в режиме сна.
    Управление напряжением аккумулятора с автоматическим отключением при выключении батареи (2,7 В - это отключение напряжения по умолчанию).
    Два дополнительных режима - аварийный маяк и строб. Дополнительные светодиоды для подсветки.
    Обратная защита от полярности и защита ОУР.

Как это сделать:

Прошивка

Для модификации прошивки вам нужно будет установить arduino IDE с поддержкой Attiny13 или Studio Atmel. Вы можете настроить все рабочие параметры, просто редактирующие определения в файле .h. Или вы можете прошить файл .hex с параметрами по умолчанию. Для загрузки прошивки вам понадобится Arduino или любой программатор ISP, например, USBASP. Не забудьте прошить сначала фьюзы (комбинации можно найти в файле .h).

Аппаратное обеспечение

Все файлы PCB, схемы и гербер можно найти в последнем выпуске(https://github.com/madcatdev/tinyfl/releases).
 Вы можете сделать PCB дома, потому что его расположение основана на DIY Technologies, таких как фоторезист. Шаблон для этого можно найти в файле .pdf. В этом случае нижний медный слой не требуется, вы можете сделать однослойную печатную плату только с 3 проводным соединением на дне. 
Или вы можете заказать эти печатные платы из Китая здесь (https://www.pcbway.com/project/shareproject/TinyFL_LED_Driver.html)

Вам также понадобится несколько навыков пайки, чтобы припаять его. Для загрузки прошивки вы можете использовать тестовый клип SOIC-8 или вы можете непосредственно припаять тонкие провода к накладкам и подключить их к программастру.

Подробное описание проекта и история творения здесь (на русском языке) (https://habr.com/ru/post/464673/)
